/* Fix: Prevent Header underlines from crossing behind the Infobox */
.markdown-preview-view h1,
.markdown-preview-view h2,
.markdown-preview-view h3,
.markdown-preview-view h4,
.markdown-preview-view h5,
.markdown-preview-view h6 {
    overflow: hidden; /* Triggers a Block Formatting Context */
}

/* Fix: Center the Infobox Title text */
.callout[data-callout="infobox"] .callout-title {
    justify-content: center; /* Centers the content horizontally */
}

.callout[data-callout="infobox"] .callout-title-inner {
    text-align: center;
    width: 100%; /* Ensures the text container spans the full width */
}

/* --- 1. PUSH TABLE OF CONTENTS TO THE RIGHT --- */
/* Target the right sidebar container */
.sidebar-right, 
.toc-container, 
.table-of-contents {
    position: fixed !important;    /* Lock it in place */
    right: 10px !important;        /* Push it to the far right edge */
    width: 220px !important;       /* Make it slightly narrower to save space */
    max-width: 20vw !important;    /* Never let it take more than 20% of screen */
    margin-right: 0 !important;
    z-index: 100;                  /* Ensure it floats above other things */
}

/* --- 2. WIDEN THE MAIN CONTENT AREA --- */
/* Target the note content */
main, 
.content, 
.markdown-preview-view {
    /* 1. Calculate width: 100% of screen minus the space for TOC (250px) */
    width: calc(100% - 250px) !important; 
    
    /* 2. Allow it to get much wider than the default */
    max-width: 1400px !important; 
    
    /* 3. Shift it to the left to use the new empty space */
    margin-left: 20px !important; 
    margin-right: 0 !important;
    
    /* 4. Ensure padding doesn't mess up the calculation */
    box-sizing: border-box !important;
}

/* --- 3. MOBILE SAFETY --- */
/* On phones, we don't want this layout or things will break */
@media screen and (max-width: 1000px) {
    main, .content {
        width: 100% !important;
        margin: 0 auto !important;
    }
    .sidebar-right {
        position: relative !important; /* Let it fall to the bottom on mobile */
        width: 100% !important;
    }
}
